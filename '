use crate::subsystem;

#[allow(dead_code)]
pub enum InterruptionBehavior {
    KCancelIncoming,
    KCancelSelf,
}

#[allow(dead_code)]
pub struct CommandState {
    pub interruption_behavior: InterruptionBehavior,
    pub requirements: Vec<Box<dyn subsystem::Subsystem>>,
}

#[allow(dead_code)]
pub trait CommandBase {
    fn add_requirement(&mut self, requirement: Box<dyn subsystem::Subsystem>);
    fn add_requirements(&mut self, requirements: Vec<Box<dyn subsystem::Subsystem>>) {
        for requirement in requirements.iter() {
            self.add_requirement(requirement);
        }
    }
    fn get_requirements(&self) -> Vec<Box<dyn subsystem::Subsystem>>;

    fn initialize(&mut self);
    fn execute(&mut self);
    fn is_finished(&mut self) -> bool;
    fn end(&mut self, interrupted: bool);
}
